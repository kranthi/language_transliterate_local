<script src="http://www.google.com/jsapi?key=ABQIAAAA1XbMiDxx_BTCY2_FkPh06RRaGTYH6UMl8mADNa0YKuWNNa8VNxQEerTAUcfkyrr6OwBovxn7TDAH5Q"></script>
<script type="text/javascript" src="/javascripts/jquery-1.3.2.min.js">    </script>
<script>jQuery.noConflict();</script>
<script type="text/javascript" src="/javascripts/jquery.connect.js">    </script>
<!-- <script type="text/javascript" src="/javascripts/language_translate.js">		     -->

<script type="text/javascript">
google.load("language", "1")
function bind_scope(object,func,args){
    if(args){
return function () {
    for(var i=arguments.length; i>= 0; i--){
        if(arguments[i]){
          args.unshift(arguments[i]);
        }
    }
    return func.apply(object, args);
};
    }
    else{
return function () {
    return func.apply(object, arguments);
};
    }
}


function translated_handle(result, textarea_id) {
         if (!result.error) {
              var container = document.getElementById(textarea_id);
              container.value = result.translation;
             } 
         }

function tester(){
    var ids = ["part_body_content", "part_extended_content" ];
    for(var i=0; i<ids.length;i++){
        var textarea_value= $(ids[i]);
	if(textarea_value.value!=""){
	    var test_language = google.language.isTranslatable($('language_select').value);
	    if(test_language != false ){		     
	          google.language.translate(textarea_value.value, "", $('language_select').value, bind_scope(window,translated_handle,[ids[i]])); 
	     }else{
	     alert('Language translation not supported for this langauge');
	     }
       }
   }
 }  

function populateList() {
var languages = {
  'AFRIKAANS' : 'af',
  'ALBANIAN' : 'sq',
  'AMHARIC' : 'am',
  'ARABIC' : 'ar',
  'ARMENIAN' : 'hy',
  'AZERBAIJANI' : 'az',
  'BASQUE' : 'eu',
  'BELARUSIAN' : 'be',
  'BENGALI' : 'bn',
  'BIHARI' : 'bh',
  'BULGARIAN' : 'bg',
  'BURMESE' : 'my',
  'CATALAN' : 'ca',
  'CHEROKEE' : 'chr',
  'CHINESE' : 'zh',
  'CHINESE_SIMPLIFIED' : 'zh-CN',
  'CHINESE_TRADITIONAL' : 'zh-TW',
  'CROATIAN' : 'hr',
  'CZECH' : 'cs',
  'DANISH' : 'da',
  'DHIVEHI' : 'dv',
  'DUTCH': 'nl',  
  'ENGLISH' : 'en',
  'ESPERANTO' : 'eo',
  'ESTONIAN' : 'et',
  'FILIPINO' : 'tl',
  'FINNISH' : 'fi',
  'FRENCH' : 'fr',
  'GALICIAN' : 'gl',
  'GEORGIAN' : 'ka',
  'GERMAN' : 'de',
  'GREEK' : 'el',
  'GUARANI' : 'gn',
  'GUJARATI' : 'gu',
  'HEBREW' : 'iw',
  'HINDI' : 'hi',
  'HUNGARIAN' : 'hu',
  'ICELANDIC' : 'is',
  'INDONESIAN' : 'id',
  'INUKTITUT' : 'iu',
  'ITALIAN' : 'it',
  'JAPANESE' : 'ja',
  'KANNADA' : 'kn',
  'KAZAKH' : 'kk',
  'KHMER' : 'km',
  'KOREAN' : 'ko',
  'KURDISH': 'ku',
  'KYRGYZ': 'ky',
  'LAOTHIAN': 'lo',
  'LATVIAN' : 'lv',
  'LITHUANIAN' : 'lt',
  'MACEDONIAN' : 'mk',
  'MALAY' : 'ms',
  'MALAYALAM' : 'ml',
  'MALTESE' : 'mt',
  'MARATHI' : 'mr',
  'MONGOLIAN' : 'mn',
  'NEPALI' : 'ne',
  'NORWEGIAN' : 'no',
  'ORIYA' : 'or',
  'PASHTO' : 'ps',
  'PERSIAN' : 'fa',
  'POLISH' : 'pl',
  'PORTUGUESE' : 'pt-PT',
  'PUNJABI' : 'pa',
  'ROMANIAN' : 'ro',
  'RUSSIAN' : 'ru',
  'SANSKRIT' : 'sa',
  'SERBIAN' : 'sr',
  'SINDHI' : 'sd',
  'SINHALESE' : 'si',
  'SLOVAK' : 'sk',
  'SLOVENIAN' : 'sl',
  'SPANISH' : 'es',
  'SWAHILI' : 'sw',
  'SWEDISH' : 'sv',
  'TAJIK' : 'tg',
  'TAMIL' : 'ta',
  'TAGALOG' : 'tl',
  'TELUGU' : 'te',
  'THAI' : 'th',
  'TIBETAN' : 'bo',
  'TURKISH' : 'tr',
  'UKRAINIAN' : 'uk',
  'URDU' : 'ur',
  'UZBEK' : 'uz',
  'UIGHUR' : 'ug',
  'VIETNAMESE' : 'vi'
};
 selectElement = document.getElementById('language_select');
 for(var i in languages){
            optionElement = null;
            optionElement = document.createElement('option');
            optionElement.innerHTML = i; 
            optionElement.value = languages[i]; 
            selectElement.appendChild(optionElement);		     
 }
}

window.onload=populateList;
</script>
<select name="language_select"  id="language_select"></select>
<input type="button" value="translate" id="button" onClick="tester();" />










